<div class="mat-elevation-z8">
    @if (loading) {
    <div class="example-loading-shade">
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </div>
    }

    <table mat-table [dataSource]="dataSource" matSort matSortDisableClear>
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Full Name</th>
            <td mat-cell *matCellDef="let row">{{row.name}}</td>
        </ng-container>

        <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef>Email</th>
            <td mat-cell *matCellDef="let row">{{row.email}}</td>
        </ng-container>

        <ng-container matColumnDef="department">
            <th mat-header-cell *matHeaderCellDef>Department</th>
            <td mat-cell *matCellDef="let row">{{row.department}}</td>
        </ng-container>

        <ng-container matColumnDef="equipment">
            <th mat-header-cell *matHeaderCellDef>Equipment</th>
            <td mat-cell *matCellDef="let row">
                <span *ngFor="let equipment of row.equipments; let i = index">{{equipment.name}}<span
                        *ngIf="i < row.equipments.length - 1">, </span></span>
            </td>
        </ng-container>

        <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef>Status</th>
            <td mat-cell *matCellDef="let row">{{row.status}}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns" ></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" [routerLink]="['/employee-details', row.id]" class="example-row"></tr>
    </table>

    <mat-paginator #paginator [length]="total" [pageSize]="10"></mat-paginator>
</div>